{"ast":null,"code":"var _jsxFileName = \"/home/nathan/Desktop/Fall 2023/CISC 275/Tasks/task11/quizzer_start/src/quizzer/QuizExpanded.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport \"./QuizExpanded.css\";\nimport { QuizQuestion } from \"./QuizQuestion\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const QuizExpanded = _ref => {\n  _s();\n\n  let {\n    quiz,\n    editQuiz,\n    resetView,\n    switchEdit\n  } = _ref;\n  const filteredQuestions = quiz.questionList.filter(q => quiz.published && q.published || !quiz.published);\n  const [p, sp] = useState(0);\n  const [submitArr, setSubmitArr] = useState(new Array(filteredQuestions.length));\n\n  const handleQuestionSubmit = index => {\n    const newSubmitArr = [...submitArr];\n    newSubmitArr.splice(index, 3, true);\n    setSubmitArr(newSubmitArr);\n  };\n\n  const totalPoints = filteredQuestions.reduce((prev, q) => prev + q.points, 0);\n\n  const addPoints = p => {\n    sp(prevCount => prevCount + p);\n  };\n\n  const reset = () => {\n    setSubmitArr(new Array(filteredQuestions.length));\n    editQuiz(quiz.id, { ...quiz,\n      questionList: quiz.questionList.map(q => ({ ...q,\n        submission: \"\"\n      }))\n    });\n    sp(0);\n  };\n\n  const editQuestionSub = (questionId, sub) => {\n    editQuiz(quiz.id, { ...quiz,\n      questionList: quiz.questionList.map()\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-baseline\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"title\",\n          children: quiz.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [filteredQuestions.length, \" question\", filteredQuestions.length !== 1 ? \"s\" : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: \"esc_button text-align-center\",\n          variant: \"warning\",\n          onClick: () => {\n            reset();\n            switchEdit();\n          },\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"esc_button text-align-center\",\n          variant: \"danger\",\n          onClick: resetView,\n          children: \"Exit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"desc\",\n      children: quiz.body\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), filteredQuestions.map((q, index) => /*#__PURE__*/_jsxDEV(QuizQuestion, {\n      index: index,\n      question: \"q\",\n      submitted: submitArr[index],\n      handleSubmit: handleQuestionSubmit,\n      addPoints: addPoints,\n      editQuestionSub: editQuestionSub\n    }, quiz.id + \"|\" + q.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }, this)), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"footer\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"danger\",\n        onClick: reset,\n        children: \"Reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"score_report\",\n        children: [p, \"/\", totalPoints]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(QuizExpanded, \"f6vq0+Dfz35+WV6oOZgbObsSkP8=\");\n\n_c = QuizExpanded;\n\nvar _c;\n\n$RefreshReg$(_c, \"QuizExpanded\");","map":{"version":3,"sources":["/home/nathan/Desktop/Fall 2023/CISC 275/Tasks/task11/quizzer_start/src/quizzer/QuizExpanded.tsx"],"names":["React","useState","Button","QuizQuestion","QuizExpanded","quiz","editQuiz","resetView","switchEdit","filteredQuestions","questionList","filter","q","published","p","sp","submitArr","setSubmitArr","Array","length","handleQuestionSubmit","index","newSubmitArr","splice","totalPoints","reduce","prev","points","addPoints","prevCount","reset","id","map","submission","editQuestionSub","questionId","sub","title","body"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { Question } from \"../interfaces/question\";\nimport { Quiz } from \"../interfaces/quiz\";\n\nimport \"./QuizExpanded.css\";\nimport { QuizQuestion } from \"./QuizQuestion\";\n\nexport const QuizExpanded = ({\n    quiz,\n    editQuiz,\n    resetView,\n    switchEdit\n}: {quiz: Quiz; editQuiz: (id: number, updatedQuiz: Quiz) => void; resetView: () => void; switchEdit: () => void;}) => {\n    const filteredQuestions = quiz.questionList.filter(\n        (q: Question): boolean =>\n            (quiz.published && q.published) || !quiz.published\n    );\n\n    const [p, sp] = useState<number>(0);\n    const [submitArr, setSubmitArr] = useState<boolean[]>(\n        new Array(filteredQuestions.length)\n    );\n\n    const handleQuestionSubmit = (index: number) => {\n        const newSubmitArr = [...submitArr];\n        newSubmitArr.splice(index, 3, true);\n        setSubmitArr(newSubmitArr);\n    };\n\n    const totalPoints = filteredQuestions.reduce(\n        (prev: number, q: Question): number => prev + q.points,\n        0\n    );\n\n    const addPoints = (p: number) => {\n        sp((prevCount) => prevCount + p);\n    };\n\n    const reset = () => {\n        setSubmitArr(new Array(filteredQuestions.length));\n        editQuiz(quiz.id, {\n            ...quiz,\n            questionList: quiz.questionList.map(\n                (q: Question): Question => ({ ...q, submission: \"\" })\n            )\n        });\n\n        sp(0);\n    };\n\n    const editQuestionSub = (questionId: number, sub: string) => {\n        editQuiz(quiz.id, {\n            ...quiz,\n            questionList: quiz.questionList.map(\n            )\n        });\n    };\n\n    return (\n        <>\n            <div className=\"d-flex justify-content-between align-items-center\">\n                <div className=\"d-flex align-items-baseline\">\n                    <h1 className=\"title\">{quiz.title}</h1>\n                    <p>\n                        {filteredQuestions.length} question\n                        {filteredQuestions.length !== 1 ? \"s\" : \"\"}\n                    </p>\n                </div>\n                <div>\n                    <Button\n                        className=\"esc_button text-align-center\"\n                        variant=\"warning\"\n                        onClick={() => {\n                            reset();\n                            switchEdit();\n                        }}\n                    >\n                        Edit\n                    </Button>\n                    <Button\n                        className=\"esc_button text-align-center\"\n                        variant=\"danger\"\n                        onClick={resetView}\n                    >\n                        {\"Exit\"}\n                    </Button>\n                </div>\n            </div>\n            <p className=\"desc\">{quiz.body}</p>\n            {filteredQuestions.map((q: Question, index: number) => (\n                <QuizQuestion\n                    key={quiz.id + \"|\" + q.id}\n                    index={index}\n                    question=\"q\"\n                    submitted={submitArr[index]}\n                    handleSubmit={handleQuestionSubmit}\n                    addPoints={addPoints}\n                    editQuestionSub={editQuestionSub}\n                ></QuizQuestion>\n            ))}\n            <hr />\n            <div className=\"footer\">\n                <Button variant=\"danger\" onClick={reset}>\n                    Reset\n                </Button>\n                <span className=\"score_report\">\n                    {p}/{totalPoints}\n                </span>\n            </div>\n        </>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}